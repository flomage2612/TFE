#ifndef _HASHTABLE_H_
#define _HASHTABLE_H_

#include <stddef.h>
#include <stdbool.h>
#include <stdlib.h>
#include <stdio.h>

#include "rule.h"
#include "pattern.h"

typedef struct _hash_en{
  struct _hash_en *next;
  void               *payload;
  int key; 
} hash_en;

typedef struct {
  int       capacity;
  int numberofelements;
  hash_en **tab;
} hash_tab;


hash_tab* createhash_tab(int capacity);

void freehash_tab(hash_tab* hashTable);

int insertEntry(hash_tab* hashTable, hash_en* r, int key);

size_t getNumRules(const hash_tab* t);

bool hasKey(const hash_tab* t, const int key);

int hashKey(size_t capacity, pattern* p);

void printTableRules(hash_tab* t);

void printTablePattern(hash_tab* t);

void printTableTransitions(hash_tab* t);

bool existState(hash_tab* t, pattern* p, int key);

rule* getRule(hash_tab *t, pattern* p, int key);


#endif